import{_ as x}from"./8cMVV1RL.js";import{E as A,_ as F,a as M}from"./DL5Oq3XQ.js";import"./DlDN50hQ.js";import{d as O,b as R,a as j,r as I,w as H,A as G,o as l,f as d,g as m,i as e,t as i,m as v,v as h,j as o,F as z,l as D,k as T,_ as J}from"./TCJ18Cqp.js";import{u as U}from"./CcjG4KHS.js";import{r as K}from"./BXU0jXBo.js";import"./Bo581eyA.js";const Q={id:"app",class:"desktop"},W={class:"page-single"},X={class:"container"},Y={class:"row ipad-width",id:"movies_wrapper"},Z={class:"col-sm-12 hidden md:!block"},ee={class:"hero-ct"},te={class:"title"},oe={class:"row ipad-width"},se={class:"col-md-12 col-sm-12 col-xs-12"},ae={class:"topbar-filter flex my-5"},ie={class:"prettydropdown arrow"},ne={value:"-1",disabled:""},re={value:""},le=["value"],de={class:"prettydropdown arrow"},ce={value:"-1",disabled:""},_e={value:""},pe=["value"],ue={class:"prettydropdown arrow"},me={value:"0"},ve={value:"1"},he={value:"2"},ye={key:0,class:"flex-wrap-movielist"},fe={key:0},ge=O({__name:"index",async setup(we){let _,y;K();const f=R(),{query:q}=f;j();const g=f.params.type==="series"?"tv":"mov",n=I({sort:0,category:"",period:""}),p=I(+q.page||1),[{data:r}]=([_,y]=H(()=>Promise.all([U("/imovie.bizhome.s/home_movies",{method:"POST",body:{sort:0,page:p.value,page_size:40,media_type:g,use_recommend:!0},key:"recents"})])),_=await _,y(),_),w=G("allnav");function B(){b(1)}async function b(s){let a=A.service({fullscreen:!0,background:"rgba(0,0,0,0.5)"});p.value=+s;let{data:u}=await U("/imovie.bizhome.s/home_movies",{method:"POST",body:{sort:n.value.sort,category:n.value.category||"0",period:n.value.period,page:s,page_size:40,media_type:g,use_recommend:!0},key:"pager"});a.close(),r.value=u.value;{let c=document.querySelector("#movies_wrapper");c&&c.scrollIntoViewIfNeeded&&c.scrollIntoViewIfNeeded()}}async function E(s){b(s)}return(s,a)=>{var k,$,S,V,N,P,C;const u=x,c=F,L=M;return l(),d("div",Q,[m(u),e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[e("p",te,i(s.$t("filter")),1)])])]),e("div",oe,[e("div",se,[e("form",ae,[e("div",ie,[v(e("select",{"onUpdate:modelValue":a[0]||(a[0]=t=>o(n).category=t)},[e("option",ne,i(s.$t("filter_cate")),1),e("option",re,i(s.$t("all")),1),(l(!0),d(z,null,D(($=(k=o(w))==null?void 0:k.data)==null?void 0:$.categoryTv,t=>(l(),d("option",{value:t.id,key:t.id},i(t.value),9,le))),128))],512),[[h,o(n).category]])]),e("div",de,[v(e("select",{"onUpdate:modelValue":a[1]||(a[1]=t=>o(n).period=t)},[e("option",ce,i(s.$t("filter_year")),1),e("option",_e,i(s.$t("all")),1),(l(!0),d(z,null,D((V=(S=o(w))==null?void 0:S.data)==null?void 0:V.period,t=>(l(),d("option",{value:t.name,key:t.id},i(t.value),9,pe))),128))],512),[[h,o(n).period]])]),e("div",ue,[v(e("select",{"onUpdate:modelValue":a[2]||(a[2]=t=>o(n).sort=t)},[e("option",me,i(s.$t("sort_overall")),1),e("option",ve,i(s.$t("sort_popular")),1),e("option",he,i(s.$t("sort_score")),1)],512),[[h,o(n).sort]])]),e("div",{class:"controls"},[e("button",{class:"submit",type:"button",onClick:B},"Submit")])]),((N=o(r))==null?void 0:N.data.total)!==0?(l(),d("div",ye,[m(c,{list:(P=o(r))==null?void 0:P.data.infos},null,8,["list"])])):T("",!0)])])]),o(r)&&o(r).data&&o(r).data.total!==0?(l(),d("div",fe,[m(L,{page:o(p),total:((C=o(r))==null?void 0:C.data.total)||0,"onUpdate:page":a[3]||(a[3]=t=>{p.value=t}),onPagination:E},null,8,["page","total"])])):T("",!0)])])}}}),Ce=J(ge,[["__scopeId","data-v-2b08b59e"]]);export{Ce as default};
