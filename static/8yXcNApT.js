import{_ as B}from"./8cMVV1RL.js";import{_ as C,a as N,E as P}from"./DL5Oq3XQ.js";import{E as S}from"./Dc6ZScgV.js";import"./DlDN50hQ.js";import{d as $,A as H,b as f,L as R,r as T,J as U,K as V,w as z,o as r,f as _,g as m,i as t,t as A,j as o,H as F,k as I,F as L,s as M,_ as j}from"./TCJ18Cqp.js";import{u as D}from"./CcjG4KHS.js";const J={class:"page-single"},K={class:"container mt-[30px]"},O={class:"row ipad-width hidden md:!block"},G={class:"col-sm-12"},Q={class:"hero-ct"},W={class:"title"},X={class:"row ipad-width"},Y={class:"col-md-12 col-sm-12 col-xs-12"},Z={key:0,class:"flex-wrap-movielist"},ee={key:0,class:"mt-16 mb-16"},te=$({__name:"index",async setup(oe){let i,p;H("isMobile");const c=f(),d=R({keyword:void 0}),a=T(1);let l=null;d.keyword=c.query.keyword,c.query.page&&(a.value=+c.query.page),U(()=>{l=P.service({fullscreen:!0,background:"rgba(0,0,0,0.5)"})}),V(()=>{l&&l.close()});const[{data:s,error:ae}]=([i,p]=z(()=>Promise.all([D("/imovie.bizhome.s/search_movies",{method:"POST",body:{page:a.value,page_size:30,keyword:d.keyword,media_type:"all"},key:"search"})])),i=await i,p(),i);async function g(e){a.value=typeof e=="number"?e:1;const n=f();await M({path:n.path,query:{...n.query,page:a.value,keyword:d.keyword}},{})}function w(e){a.value=e,g(e),window.scrollTo(0,0)}return(e,n)=>{var u,v,y,h;const k=B,b=C,x=S,q=N;return r(),_(L,null,[m(k),t("div",J,[t("div",K,[t("div",O,[t("div",G,[t("div",Q,[t("p",W,A(e.$t("search_result")),1)])])]),t("div",X,[t("div",Y,[(u=o(s))!=null&&u.data&&((v=o(s))==null?void 0:v.data.total)!==0?(r(),_("div",Z,[m(b,{list:(y=o(s))==null?void 0:y.data.infos},null,8,["list"])])):(r(),F(x,{key:1,description:e.$t("empty")},null,8,["description"]))])]),o(s)&&o(s).data&&o(s).data.total!==0?(r(),_("div",ee,[m(q,{page:o(a),total:((h=o(s))==null?void 0:h.data.total)||0,"onUpdate:page":n[0]||(n[0]=E=>{a.value=E}),onPagination:w},null,8,["page","total"])])):I("",!0)])])],64)}}}),le=j(te,[["__scopeId","data-v-caae7d5d"]]);export{le as default};
