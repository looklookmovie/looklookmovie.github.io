import{H as Z,M as ee}from"./Bq00O8Qk.js";import{_ as te,g as y}from"./8cMVV1RL.js";import{d as oe,A as T,b as se,a as ae,r as A,w as ne,o as a,f as n,g as _,h as E,i as t,j as o,F as g,l as h,k as c,t as l,m as w,v as b,x as le,I as ie,y as re,z as de,_ as ce}from"./TCJ18Cqp.js";import{E as _e,_ as pe,a as ue}from"./DL5Oq3XQ.js";import"./DlDN50hQ.js";import{b as me,u as k}from"./CcjG4KHS.js";import{r as ve}from"./BXU0jXBo.js";import"./D3sepBjI.js";import"./Bo581eyA.js";const ge=u=>(re("data-v-0cfc10f1"),u=u(),de(),u),he={id:"app",class:"desktop"},fe={class:"container mb-5"},ye={key:0,class:"slider movie-items h-0 !pb-[150%] md:!pb-[56.25%] relative"},we={loop:"true",navigation:"true",class:"absolute w-full","pagination-type":"fraction","autoplay-delay":"8000"},be=["src","alt","srcset","loading"],ke={class:"slide-item__content"},Ie={class:"slide-item__title"},Se={class:"mr-[5px]"},xe={class:"slide-item__stats"},Ue={key:0,class:"slide-item__stat"},$e=ge(()=>t("i",{class:"ion-android-star"},null,-1)),Ce={key:1,class:"ml-2 inline-flex items-center gap-1 text-white text-[16px] bg-[#dd003f] whitespace-nowrap px-3 py-1 rounded-[3px]"},Ne={key:0,class:"genres slide-item__genres"},Pe={class:"genres__link slide-item__genres-link"},Ve=["textContent"],ze={class:"page-single"},Me={class:"container"},Le={class:"row ipad-width",id:"movies_wrapper"},qe={class:"col-sm-12 hidden md:!block"},Be={class:"hero-ct"},De={class:"title"},He={class:"row ipad-width"},Re={class:"col-md-12 col-sm-12 col-xs-12"},Te={class:"topbar-filter flex my-5"},Ae={class:"prettydropdown arrow"},Ee={value:"-1",disabled:""},Fe={value:""},Oe=["value"],je={class:"prettydropdown arrow"},Ke={value:"-1",disabled:""},Ge={value:""},Je=["value"],Qe={class:"prettydropdown arrow"},We={value:"0"},Xe={value:"1"},Ye={value:"2"},Ze={key:0,class:"flex-wrap-movielist"},et={key:0},tt=oe({__name:"index",async setup(u){let m,I;ve(),T("isMobile");const F=se(),{query:O}=F,{protocol:S}=me(),j=ae(),r=A({sort:0,category:"",period:""}),v=A(+O.page||1),[{data:x},{data:d}]=([m,I]=ne(()=>Promise.all([k("/imovie.bizhome.s/home_carousel",{method:"POST",body:{},key:"banner"}),k("/imovie.bizhome.s/home_movies",{method:"POST",body:{sort:0,page:v.value,page_size:40,use_recommend:!0},key:"recents"})])),m=await m,I(),m),U=T("allnav");function K(){$(1)}async function $(s){let i=_e.service({fullscreen:!0,background:"rgba(0,0,0,0.5)"});v.value=+s;let{data:f}=await k("/imovie.bizhome.s/home_movies",{method:"POST",body:{sort:r.value.sort,category:r.value.category||"0",period:r.value.period,page:s,page_size:40,use_recommend:!0},key:"pager"});i.close(),d.value=f.value;{let p=document.querySelector("#movies_wrapper");p&&p.scrollIntoViewIfNeeded&&p.scrollIntoViewIfNeeded()}}async function G(s){$(s)}return(s,i)=>{var C,N,P,V,z,M,L,q,B,D,H;const f=ee,p=Z,J=te,Q=ie,W=pe,X=ue;return a(),n("div",he,[_(p,null,{default:E(()=>[_(f,{name:"description",content:s.$t("meta_description")},null,8,["content"])]),_:1}),_(J),t("div",fe,[((N=(C=o(x))==null?void 0:C.data)==null?void 0:N.total)!==0?(a(),n("div",ye,[t("swiper-container",we,[(a(!0),n(g,null,h((V=(P=o(x))==null?void 0:P.data)==null?void 0:V.infos,(e,Y)=>(a(),n("swiper-slide",{key:e.id,class:"!w-full relative"},[_(Q,{to:o(j)(`${e.media_id?"/series/"+e.slug+"-"+e.media_id:"/movie/"+e.slug+"-"+e.id}`),class:"block",target:e.target==="BLANK"?"_blank":"_self"},{default:E(()=>[t("img",{src:("getImageUrl"in s?s.getImageUrl:o(y))(e.background,"w1920",{local:!0,w:"w_1920",protocol:o(S)}),alt:e.name,class:"w-full object-cover h-full aspect-[2/3] md:aspect-[16/9]",onerror:"this.src='/placeholder.svg'; this.srcset='/placeholder.svg';",srcset:("getImageUrl"in s?s.getImageUrl:o(y))(e.background,"w1920",{local:!0,w:"w_1920",protocol:o(S)})+", "+("getImageUrl"in s?s.getImageUrl:o(y))(e.poster_path,"w780")+" 780w",sizes:"(max-width: 800px) 80vw, 100vw",loading:Y==0?"eager":"lazy",decoding:"async"},null,8,be),t("div",ke,[t("h2",Ie,[t("span",Se,[le(l(e.name)+" ",1),t("span",null,"("+l(e.release_year)+")",1)])]),t("div",xe,[e.vote_average&&+e.vote_average>0?(a(),n("span",Ue,[$e,t("span",null,l((+e.vote_average).toFixed(1)),1)])):c("",!0),e.media_id?(a(),n("span",Ce,"Serie "+l(/s(\d+)/.exec(e.media_id)[1]),1)):c("",!0)]),e.genres&&e.genres.length?(a(),n("ul",Ne,[(a(!0),n(g,null,h(e.genres,R=>(a(),n("li",{class:"genres__item slide-item__genres-item",key:R},[t("span",Pe," # "+l(R),1)]))),128))])):c("",!0),e.description?(a(),n("div",{key:1,class:"slide-item__description",textContent:l(e.description)},null,8,Ve)):c("",!0)])]),_:2},1032,["to","target"])]))),128))])])):c("",!0)]),t("div",ze,[t("div",Me,[t("div",Le,[t("div",qe,[t("div",Be,[t("p",De,l(s.$t("filter")),1)])])]),t("div",He,[t("div",Re,[t("form",Te,[t("div",Ae,[w(t("select",{"onUpdate:modelValue":i[0]||(i[0]=e=>o(r).category=e)},[t("option",Ee,l(s.$t("filter_cate")),1),t("option",Fe,l(s.$t("all")),1),(a(!0),n(g,null,h((M=(z=o(U))==null?void 0:z.data)==null?void 0:M.category,e=>(a(),n("option",{value:e.id,key:e.id},l(e.value),9,Oe))),128))],512),[[b,o(r).category]])]),t("div",je,[w(t("select",{"onUpdate:modelValue":i[1]||(i[1]=e=>o(r).period=e)},[t("option",Ke,l(s.$t("filter_year")),1),t("option",Ge,l(s.$t("all")),1),(a(!0),n(g,null,h((q=(L=o(U))==null?void 0:L.data)==null?void 0:q.period,e=>(a(),n("option",{value:e.name,key:e.id},l(e.value),9,Je))),128))],512),[[b,o(r).period]])]),t("div",Qe,[w(t("select",{"onUpdate:modelValue":i[2]||(i[2]=e=>o(r).sort=e)},[t("option",We,l(s.$t("sort_overall")),1),t("option",Xe,l(s.$t("sort_popular")),1),t("option",Ye,l(s.$t("sort_score")),1)],512),[[b,o(r).sort]])]),t("div",{class:"controls"},[t("button",{class:"submit",type:"button",onClick:K},"Submit")])]),((B=o(d))==null?void 0:B.data.total)!==0?(a(),n("div",Ze,[_(W,{list:(D=o(d))==null?void 0:D.data.infos},null,8,["list"])])):c("",!0)])])]),o(d)&&o(d).data&&o(d).data.total!==0?(a(),n("div",et,[_(X,{page:o(v),total:((H=o(d))==null?void 0:H.data.total)||0,"onUpdate:page":i[3]||(i[3]=e=>{v.value=e}),onPagination:G},null,8,["page","total"])])):c("",!0)])])}}}),_t=ce(tt,[["__scopeId","data-v-0cfc10f1"]]);export{_t as default};
