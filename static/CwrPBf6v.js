import{R as P,r as I,D as L,d as E,C as x,o as N,H as V,h as S,j as m,f as $,M as q,g as f,q as D,n as Z,ab as j,k as Q,a6 as W,ap as B,aq as X,ar as G,am as J,u as K,b as U,w as Y,A as T}from"./BHKbtcID.js";import{m as ee,q as te,P as oe,u as ae,Q as ne,E as z,_ as se,w as re,R as ie}from"./FSkVgI-f.js";import{u as le}from"./C-CDH4LD.js";import{u as ce}from"./DN2CbUdC.js";import"./Ds82B_yG.js";const ue={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},de={click:e=>e instanceof MouseEvent},me=(e,t,a)=>{const o=P(),r=P(),l=I(!1),i=()=>{o.value&&(l.value=o.value.scrollTop>=e.visibilityHeight)},n=c=>{var d;(d=o.value)==null||d.scrollTo({top:0,behavior:"smooth"}),t("click",c)},s=oe(i,300,!0);return ee(r,"scroll",s),L(()=>{var c;r.value=document,o.value=document.documentElement,e.target&&(o.value=(c=document.querySelector(e.target))!=null?c:void 0,o.value||te(a,`target does not exist: ${e.target}`),r.value=o.value),i()}),{visible:l,handleClick:n}},F="ElBacktop",fe=E({name:F}),pe=E({...fe,props:ue,emits:de,setup(e,{emit:t}){const a=e,o=ae("backtop"),{handleClick:r,visible:l}=me(a,t,F),i=x(()=>({right:`${a.right}px`,bottom:`${a.bottom}px`}));return(n,s)=>(N(),V(W,{name:`${m(o).namespace.value}-fade-in`},{default:S(()=>[m(l)?(N(),$("div",{key:0,style:Z(m(i)),class:D(m(o).b()),onClick:j(m(r),["stop"])},[q(n.$slots,"default",{},()=>[f(m(z),{class:D(m(o).e("icon"))},{default:S(()=>[f(m(ne))]),_:1},8,["class"])])],14,["onClick"])):Q("v-if",!0)]),_:3},8,["name"]))}});var ge=se(pe,[["__file","backtop.vue"]]);const he=re(ge);function ve(e,t){const a=t/e*100;return 2/Math.PI*100*Math.atan(a/50)}function _e(e={}){const{duration:t=2e3,throttle:a=200,hideDelay:o=500,resetDelay:r=400}=e,l=e.estimatedProgress||ve,i=B(),n=I(0),s=I(!1),c=I(!1);let d=!1,p,g,h,v;const w=()=>{c.value=!1,A(0)};function A(u=0){if(!i.isHydrating){if(u>=100)return _();y(),n.value=u<0?0:u,a?g=setTimeout(()=>{s.value=!0,C()},a):(s.value=!0,C())}}function H(){h=setTimeout(()=>{s.value=!1,v=setTimeout(()=>{n.value=0},r)},o)}function _(u={}){n.value=100,d=!0,y(),O(),u.error&&(c.value=!0),u.force?(n.value=0,s.value=!1):H()}function O(){clearTimeout(h),clearTimeout(v)}function y(){clearTimeout(g),cancelAnimationFrame(p)}function C(){d=!1;let u;function b(k){if(d)return;u??(u=k);const R=k-u;n.value=Math.max(0,Math.min(100,l(t,R))),p=requestAnimationFrame(b)}p=requestAnimationFrame(b)}let M=()=>{};{const u=i.hook("page:loading:start",()=>{w()}),b=i.hook("page:loading:end",()=>{_()}),k=i.hook("vue:error",()=>_());M=()=>{k(),u(),b(),y()}}return{_cleanup:M,progress:x(()=>n.value),isLoading:x(()=>s.value),error:x(()=>c.value),start:w,set:A,finish:_,clear:y}}function ye(e={}){const t=B(),a=t._loadingIndicator=t._loadingIndicator||_e(e);return X()&&(t._loadingIndicatorDeps=t._loadingIndicatorDeps||0,t._loadingIndicatorDeps++,G(()=>{t._loadingIndicatorDeps--,t._loadingIndicatorDeps===0&&(a._cleanup(),delete t._loadingIndicator)})),a}const be=E({name:"NuxtLoadingIndicator",props:{throttle:{type:Number,default:200},duration:{type:Number,default:2e3},height:{type:Number,default:3},color:{type:[String,Boolean],default:"repeating-linear-gradient(to right,#00dc82 0%,#34cdfe 50%,#0047e1 100%)"},errorColor:{type:String,default:"repeating-linear-gradient(to right,#f87171 0%,#ef4444 100%)"},estimatedProgress:{type:Function,required:!1}},setup(e,{slots:t,expose:a}){const{progress:o,isLoading:r,error:l,start:i,finish:n,clear:s}=ye({duration:e.duration,throttle:e.throttle,estimatedProgress:e.estimatedProgress});return a({progress:o,isLoading:r,error:l,start:i,finish:n,clear:s}),()=>J("div",{class:"nuxt-loading-indicator",style:{position:"fixed",top:0,right:0,left:0,pointerEvents:"none",width:"auto",height:`${e.height}px`,opacity:r.value?1:0,background:l.value?e.errorColor:e.color||void 0,backgroundSize:`${100/o.value*100}% auto`,transform:`scaleX(${o.value}%)`,transformOrigin:"left",transition:"transform 0.1s, height 0.4s, opacity 0.4s",zIndex:999999}},t)}}),Ee=E({__name:"default",async setup(e){let t,a;const{t:o}=K(),r=U();let l=navigator.userAgent,i=/(iOS|Android|iphone)/i.test(l);r.params.type;let n=/(Android)/i.test(l);r.path.includes("user"),le({title:o("meta_title"),description:o("meta_description")});const{data:s}=([t,a]=Y(()=>ce("/imovie.bizhome.s/navigation",{method:"POST",body:{}})),t=await t,a(),t);return T("isMobile",()=>i),T("isAndroidDev",()=>n),T("allnav",()=>s==null?void 0:s.value),T("genres_path",()=>({0:"all",12:"adventure",14:"fantasy",16:"animation",18:"drama",27:"horror",28:"action",35:"comedy",36:"history",37:"western",53:"thriller",80:"crime",99:"documentary",878:"science-fiction",9648:"mystery",10402:"music",10749:"romance",10751:"family",10752:"war",10759:"action-adventure",10762:"kids",10763:"news",10764:"reality",10765:"sci-fi-fantasy",10766:"soap",10767:"talk",10768:"war-politics",10770:"tv-movie"})),L(()=>{navigator.languages.some(d=>d.startsWith("zh"))||(document.body.style.display="block"),document.body.style.display="block"}),(c,d)=>{const p=be,g=ie,h=z,v=he;return N(),$("div",null,[f(p),q(c.$slots,"default"),f(v,null,{default:S(()=>[f(h,{color:"#000"},{default:S(()=>[f(g)]),_:1})]),_:1})])}}});export{Ee as default};
