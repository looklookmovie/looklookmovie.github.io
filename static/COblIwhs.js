import{_ as A}from"./CZjUkKFC.js";import{E as S,_ as $,a as R}from"./C5oakICU.js";import{E as U}from"./BkCkgThm.js";import"./BprHuBQJ.js";import{d as V,A as k,b as j,r as p,J as z,K as F,w as H,o as i,f as m,g as _,i as e,t as L,j as o,H as M,k as O,F as D,s as I}from"./DPdZlXFg.js";import{u as J}from"./BYExT7Jk.js";const K={class:"page-single mt-[30px]"},G={class:"container"},Q={class:"row ipad-width hidden md:!block"},W={class:"col-sm-12"},X={class:"hero-ct"},Y={class:"title"},Z={class:"row ipad-width"},ee={class:"col-md-12 col-sm-12 col-xs-12"},te={key:0,class:"flex-wrap-movielist"},oe={key:0,class:"mt-16 mb-16"},ue=V({__name:"Explore",async setup(se){let r,u;k("isMobile");const t=j(),{query:c,params:ae}=t,b=t.params.type==="series"?"tv":"mov",l=p(t.query.page&&+t.query.page||1),h=k("genres_path");let d=t.path.split("/").slice(-1)[0];const g=p(c.order||(d==="top-rated"?"2":d==="popular"?"1":"0")),E=Object.keys(h.value).find(a=>h.value[a]===d),P=p(E);let n=null;z(()=>{n=S.service({fullscreen:!0,background:"rgba(0,0,0,0.5)"}),setTimeout(()=>{n&&n.close()},2e3)}),F(()=>{n&&n.close()});const[{data:s,pending:re,refresh:ie}]=([r,u]=H(()=>Promise.all([J("/imovie.bizhome.s/home_movies",{method:"POST",body:{sort:+g.value,category:P.value||"0",region:c.c||"",period:c.y||"",page:l.value,page_size:40,media_type:b,use_recommend:!0}})])),r=await r,u(),r);async function q(a){await I({path:t.path,query:{...t.query,order:g.value,page:a}}),window.scrollTo(0,0)}return(a,v)=>{var y,f,w;const x=A,B=$,C=U,N=R;return i(),m(D,null,[_(x),e("div",K,[e("div",G,[e("div",Q,[e("div",W,[e("div",X,[e("p",Y,L(a.$t("msg1")),1)])])]),e("div",Z,[e("div",ee,[((y=o(s))==null?void 0:y.data.total)!==0?(i(),m("div",te,[_(B,{list:(f=o(s))==null?void 0:f.data.infos},null,8,["list"])])):(i(),M(C,{key:1,description:a.$t("empty")},null,8,["description"]))])]),o(s)&&o(s).data&&o(s).data.total!==0?(i(),m("div",oe,[_(N,{page:o(l),total:((w=o(s))==null?void 0:w.data.total)||0,"onUpdate:page":v[0]||(v[0]=T=>{l.value=T}),onPagination:q},null,8,["page","total"])])):O("",!0)])])],64)}}});export{ue as _};
